(this["webpackJsonprecommendation-ui"]=this["webpackJsonprecommendation-ui"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){e.exports=a(71)},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),o=a.n(c),u=a(12),l=a(10),i=a(1),s=a.n(i),m=a(2),d=a(3),p=a(5),f=a.n(p),v="/api/recommendations/books",b=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post(v,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(v);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,f.a.get("".concat(v,"/read"));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:return e.next=7,f.a.get("".concat(v,"/not_read"));case 7:return n=e.sent,e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E={createBook:b,getBooks:g,updateBook:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put(v,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),markAsRead:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(v,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBooksByReadStatus:h},k={getRecommendations:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/recommendations");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRecommendationsByTag:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat("/api/recommendations","/tag/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};a(58),a(16),a(30),a(59);var y=function(e){var t=e.text,a=e.handleToggle,n=e.className;return r.a.createElement("button",{onClick:a,className:n||"button toggle","data-testid":"toggle"},t)};var O=function(e){var t=e.tags,a=e.recommendationId;return r.a.createElement("div",null,Array.isArray(t)&&t.length?r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:(t=e.id,"".concat(a,"-").concat(t))},e.title);var t}))):null)};var j=function(e){var t=e.id,a=e.title,n=e.author,c=e.isbn,o=e.tags,u=e.isRead,l=e.handleToggle;return r.a.createElement("div",{className:"recommendation"},r.a.createElement("h5",null,a),n?r.a.createElement("h6",{className:"book-author"},n):null,c?r.a.createElement("small",null,c):null,function(){var e=u?"Mark as not read":"Mark as read";return r.a.createElement(y,{text:e,handleToggle:l,className:"book-toggle toggle button ".concat(u?"active":null)})}(),r.a.createElement("h6",{className:"recommendation-tag-title"},"Tags:"),r.a.createElement(O,{recommendationId:t,tags:o}))};a(60);var x=function(e){var t=e.id,a=e.url,n=e.blogger,c=e.title,o=e.tags;return r.a.createElement("div",{className:"recommendation"},r.a.createElement("h5",null,c),n?r.a.createElement("h6",{className:"blogger"},n):null,a?r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},a):null,r.a.createElement("h6",{className:"recommendation-tag-title"},"Tags:"),r.a.createElement(O,{recommendationId:t,tags:o}))};var w=function(e){var t=e.id,a=e.title,n=e.url,c=e.tags;return r.a.createElement("div",{className:"recommendation"},r.a.createElement("h5",null,a),n?r.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},n):null,r.a.createElement("h6",{className:"recommendation-tag-title"},"Tags:"),r.a.createElement(O,{recommendationId:t,tags:c}))};a(14);var S=function(e){var t=e.books,a=e.videos,n=e.blogs,c=e.markAsRead;return r.a.createElement("div",{className:"recommendation-list"},t?t.map((function(e){return r.a.createElement(j,Object.assign({key:e.id,handleToggle:function(){return c(e.id)}},e))})):[],a?a.map((function(e){return r.a.createElement(w,Object.assign({key:e.id},e))})):[],n?n.map((function(e){return r.a.createElement(x,Object.assign({key:e.id},e))})):[])};a(61);var T=function(e){var t=e.title;return r.a.createElement("h1",{className:"page-title"},t)};a(62);var B=function(e){var t=e.title;return r.a.createElement("h3",{className:"page-subtitle"},t)};a(63);var N=function(e){var t=e.children;return r.a.createElement("div",{className:"row container"},t)};var R=function(){return r.a.createElement(N,null,r.a.createElement(u.b,{className:"button-reverse",to:"/recommendations/books"},"Add a Book"),r.a.createElement(u.b,{className:"button-reverse",to:"/recommendations/videos"},"Add a Video"),r.a.createElement(u.b,{className:"button-reverse",to:"/recommendations/blogs"},"Add A Blog"))};var A=function(e){var t=e.filterType,a=e.filterOnChange,n=e.filterTagFieldHandler;return r.a.createElement("form",null,r.a.createElement(N,null,r.a.createElement("p",null,"Filter by:"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"RButton",id:"0",value:"All",checked:"All"===t,onChange:a}),"Show All"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"RButton",id:"4",value:"BookIsRead",checked:"BookIsRead"===t,onChange:a}),"Show Read Books"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"RButton",id:"1","data-testid":"tag-to-find-button",value:"Tag",checked:"Tag"===t,onChange:a}),"Tag"),"Tag"===t?r.a.createElement("input",{type:"text","data-testid":"tag-to-find",onChange:n}):null))};var C=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),u=Object(d.a)(o,2),l=u[0],i=u[1],p=Object(n.useState)([]),f=Object(d.a)(p,2),v=f[0],b=f[1],g=Object(n.useState)("All"),h=Object(d.a)(g,2),y=h[0],O=h[1],j=Object(n.useState)(""),x=Object(d.a)(j,2),w=x[0],N=x[1],C=function(e){c(e.book),i(e.video),b(e.blog)};Object(n.useEffect)((function(){F()}),[]),Object(n.useEffect)((function(){switch(y){case"BookIsRead":return void I();case"Tag":return void V();default:F()}}),[w,y]);var I=function(){E.getBooksByReadStatus(!0).then((function(e){return C({book:e,videos:[],blogs:[]})})).catch((function(e){return console.log(e)}))},V=function(){w&&k.getRecommendationsByTag(w).then((function(e){C(e)})).catch((function(e){return console.log(e)}))},F=function(){k.getRecommendations().then((function(e){C(e)})).catch((function(e){return console.log(e)}))},D=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.markAsRead(t);case 2:n=e.sent,c(a.map((function(e){return e.id===n.id?n:e}))),"BookIsRead"===y&&I();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",null,r.a.createElement(T,{title:"Recommendations"}),r.a.createElement(B,{title:"Add a Recommendation"}),r.a.createElement(R,null),r.a.createElement(A,{filterType:y,filterOnChange:function(e){O(e.target.value)},filterTagFieldHandler:function(e){N(e.target.value)}}),r.a.createElement(S,{books:a,videos:l,blogs:v,markAsRead:D}))};var I=function(e){var t=e.books,a=e.title,n=e.handleToggle;return r.a.createElement("div",{className:"recommendation-list"},a?r.a.createElement(B,{title:a}):null,t?t.map((function(e){return r.a.createElement(j,Object.assign({key:e.id,handleToggle:function(){return n(e.id)}},e))})):null)};a(17),a(69);var V=function(e){var t=e.text;return t?r.a.createElement("div",null,r.a.createElement("p",{className:"notification"},t)):null},F=function(e){var t=e.handleSubmit,a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],u=c[1],l=Object(n.useState)(""),i=Object(d.a)(l,2),p=i[0],f=i[1],v=Object(n.useState)(""),b=Object(d.a)(v,2),g=b[0],h=b[1],E=Object(n.useState)(""),k=Object(d.a)(E,2),y=k[0],O=k[1],j=Object(n.useState)(""),x=Object(d.a)(j,2),w=x[0],S=x[1],T=function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=g.split(",").map((function(e){return e.trim()})),r={title:y,author:o,isbn:p,tags:n},e.next=5,t(r);case 5:e.sent||(S("Book added succesfully"),setTimeout((function(){return S("")}),2e3),B());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){u(""),O(""),f(""),h("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"book-form-wrapper"},r.a.createElement("form",{className:"book-form",onSubmit:T},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",placeholder:"Type your book title",value:y,onChange:function(e){var t=e.target;return O(t.value)},"data-testid":"add-book-title"}),r.a.createElement("label",null,"Author:"),r.a.createElement("input",{type:"text",placeholder:"Type your book author",value:o,onChange:function(e){var t=e.target;return u(t.value)},"data-testid":"add-book-author"}),r.a.createElement("label",null,"ISBN:"),r.a.createElement("input",{type:"text",placeholder:"Type your book isbn",value:p,onChange:function(e){var t=e.target;return f(t.value)},"data-testid":"add-book-isbn"}),r.a.createElement("label",null,"Tags:"),r.a.createElement("input",{type:"text",placeholder:"Type your tags, comma separated",value:g,onChange:function(e){var t=e.target;return h(t.value)},"data-testid":"add-book-tag"}),r.a.createElement("input",{className:"form-submit",type:"submit",value:"Submit","data-testid":"add-book-submit"}))),r.a.createElement(V,{text:w}))};a(18);var D=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getBooks();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.createBook(t);case 3:n=e.sent,c(a.concat(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.find((function(e){return e.id===t})))){e.next=6;break}return e.next=4,E.markAsRead(n.id);case 4:r=e.sent,c(a.map((function(e){return e.id===r.id?r:e})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"recommendation-page"},r.a.createElement(T,{title:"Book Recommendations"}),r.a.createElement(B,{title:"Add a Book"}),r.a.createElement(F,{handleSubmit:u}),r.a.createElement(I,{title:"Saved Books",books:a,handleToggle:l}))},U={createVideo:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/recommendations/videos",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getVideos:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/recommendations/videos");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};var _=function(e){var t=e.videos,a=e.title;return r.a.createElement("div",{className:"recommendation-list"},a?r.a.createElement(B,{title:a}):null,t?t.map((function(e){return r.a.createElement(w,Object.assign({key:e.id},e))})):null)},H=function(e){var t=e.handleSubmit,a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],u=c[1],l=Object(n.useState)(""),i=Object(d.a)(l,2),p=i[0],f=i[1],v=Object(n.useState)(""),b=Object(d.a)(v,2),g=b[0],h=b[1],E=Object(n.useState)(""),k=Object(d.a)(E,2),y=k[0],O=k[1],j=function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=g.split(",").map((function(e){return e.trim()})),r={title:o,url:p,tags:n},e.next=5,t(r);case 5:e.sent?console.log("oops something went wrong"):(O("Video added succesfully"),setTimeout((function(){return O("")}),2e3),x());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){u(""),f(""),h("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"video-form-wrapper"},r.a.createElement("form",{className:"video-form",onSubmit:j},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",placeholder:"Type your video title",value:o,onChange:function(e){var t=e.target;return u(t.value)},"data-testid":"add-video-title"}),r.a.createElement("label",null,"URL:"),r.a.createElement("input",{type:"text",placeholder:"Type your URL here",value:p,onChange:function(e){var t=e.target;return f(t.value)},"data-testid":"add-video-url"}),r.a.createElement("label",null,"Tags:"),r.a.createElement("input",{type:"text",placeholder:"Type your tags, comma separated",value:g,onChange:function(e){var t=e.target;return h(t.value)},"data-testid":"add-video-tag"}),r.a.createElement("input",{className:"form-submit",type:"submit",value:"Submit","data-testid":"add-video-submit"}))),r.a.createElement(V,{text:y}))};var J=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.getVideos();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.createVideo(t);case 3:n=e.sent,c(a.concat(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"recommendation-page"},r.a.createElement(T,{title:"Video Recommendations"}),r.a.createElement(B,{title:"Add a Video"}),r.a.createElement(H,{handleSubmit:u}),r.a.createElement(_,{title:"Saved Videos",videos:a}))},L={getBlogs:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/api/recommendations/blogs");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createBlog:function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/api/recommendations/blogs",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(e){var t=e.handleSubmit,a=Object(n.useState)(""),c=Object(d.a)(a,2),o=c[0],u=c[1],l=Object(n.useState)(""),i=Object(d.a)(l,2),p=i[0],f=i[1],v=Object(n.useState)(""),b=Object(d.a)(v,2),g=b[0],h=b[1],E=Object(n.useState)(""),k=Object(d.a)(E,2),y=k[0],O=k[1],j=Object(n.useState)(""),x=Object(d.a)(j,2),w=x[0],S=x[1],T=function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=y.split(",").map((function(e){return e.trim()})),r={title:o,blogger:p,url:g,tags:n},e.next=5,t(r);case 5:e.sent||(S("Blog added succesfully"),setTimeout((function(){return S("")}),2e3),B());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){u(""),f(""),h(""),O("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"book-form-wrapper"},r.a.createElement("form",{className:"book-form",onSubmit:T},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",placeholder:"Type your hlog title",value:o,onChange:function(e){var t=e.target;return u(t.value)},"data-testid":"add-blog-title"}),r.a.createElement("label",null,"Blogger:"),r.a.createElement("input",{type:"text",placeholder:"Type your blogger",value:p,onChange:function(e){var t=e.target;return f(t.value)},"data-testid":"add-blogger"}),r.a.createElement("label",null,"Url:"),r.a.createElement("input",{type:"text",placeholder:"Type your blog url",value:g,onChange:function(e){var t=e.target;return h(t.value)},"data-testid":"add-blog-url"}),r.a.createElement("label",null,"Tags:"),r.a.createElement("input",{type:"text",placeholder:"Type your tags, comma separated",value:y,onChange:function(e){var t=e.target;return O(t.value)},"data-testid":"add-blog-tag"}),r.a.createElement("input",{className:"form-submit",type:"submit",value:"Submit","data-testid":"add-blog-submit"}))),r.a.createElement(V,{text:w}))};var q=function(e){var t=e.blogs;return r.a.createElement("div",{className:"recommendation-list"},Array.isArray(t)&&t.map((function(e){return r.a.createElement(x,Object.assign({key:e.id},e))})))};var z=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getBlogs();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.createBlog(t);case 3:n=e.sent,c(a.concat(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"recommendation-page"},r.a.createElement(T,{title:"Blog Recommendations"}),r.a.createElement(B,{title:"Add a Blog"}),r.a.createElement(M,{handleSubmit:u}),r.a.createElement(B,{title:"Saved Blogs"}),r.a.createElement(q,{blogs:a}))};a(70);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(l.a,{path:"/recommendations/books",render:function(){return r.a.createElement(D,null)}}),r.a.createElement(l.a,{path:"/recommendations/videos",render:function(){return r.a.createElement(J,null)}}),r.a.createElement(l.a,{path:"/recommendations/blogs",render:function(){return r.a.createElement(z,null)}})))};o.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.0add9960.chunk.js.map
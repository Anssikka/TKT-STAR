{"version":3,"sources":["pages/HomePage.js","services/books.js","components/PageTitle.js","components/common/Toggle.js","components/books/Book.js","components/PageSubtitle.js","components/books/BookList.js","components/books/AddBookForm.js","pages/BookPage.js","App.js","index.js"],"names":["HomePage","baseUrl","createBook","book","a","axios","post","response","data","getBooks","get","updateBook","put","markAsRead","id","PageTitle","title","className","Toggle","text","handleToggle","onClick","Book","author","isbn","tags","isRead","toggleText","showToggle","Array","isArray","map","tag","key","PageSubtitle","BookList","books","AddBookForm","handleSubmit","useState","setAuthor","setIsbn","setTitle","onSubmit","event","preventDefault","resetForm","type","placeholder","value","onChange","target","data-testid","BookPage","setBooks","useEffect","bookService","savedBooks","console","log","addBook","createdBook","concat","find","b","updatedBook","App","exact","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.53e1449e.chunk.js","sourcesContent":["import React from 'react'\n\nfunction HomePage() {\n  return (\n    <main>\n      <p>Front page</p>\n    </main>\n  )\n}\n\nexport default HomePage\n","import axios from 'axios'\nconst baseUrl = '/api/recommendations/books'\n\nconst createBook = async book => {\n  const response = await axios.post(baseUrl, book)\n  return response.data\n}\n\nconst getBooks = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst updateBook = async book => {\n  const response = await axios.put(baseUrl, book)\n  return response.data\n}\n\nconst markAsRead = async id => {\n  const response = await axios.post(`${baseUrl}/${id}`)\n  return response.data\n}\n\nexport default { createBook, getBooks, updateBook, markAsRead }\n","import React from 'react'\nimport '../styles/PageTitle.css'\n\nfunction PageTitle({ title }) {\n  return <h1 className=\"page-title\">{title}</h1>\n}\n\nexport default PageTitle\n","import React from 'react'\nimport '../../styles/Button.css'\nimport '../../styles/Toggle.css'\n\nfunction Toggle({ text, handleToggle, className }) {\n  const defaultClassName = 'button toggle'\n\n  return (\n    <button onClick={handleToggle} className={className || defaultClassName}>\n      {text}\n    </button>\n  )\n}\n\nexport default Toggle\n","import React from 'react'\nimport '../../styles/Book.css'\nimport Toggle from '../common/Toggle'\n\nfunction Book({ title, author, isbn, tags, isRead, handleToggle }) {\n  const showAuthor = () => (author ? <h6 className=\"book-author\">{author}</h6> : null)\n  const showIsbn = () => (isbn ? <small>{isbn}</small> : null)\n  const showToggle = () => {\n    const toggleText = isRead ? 'Mark as not read' : 'Mark as read'\n    return (\n      <Toggle\n        text={toggleText}\n        handleToggle={handleToggle}\n        className={`book-toggle toggle button ${isRead ? 'active' : null}`}\n      />\n    )\n  }\n  const showTags = () => {\n    if (Array.isArray(tags)) {\n      return (\n        <>\n          <h6 className=\"book-tag-title\">Tags:</h6>\n          <ul>\n            {tags.map(tag => (\n              <li key={`${title}-${tag.id}`}>{tag.title}</li>\n            ))}\n          </ul>\n        </>\n      )\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <div className=\"book\">\n      <h5>{title}</h5>\n      {showAuthor()}\n      {showIsbn()}\n      {showToggle()}\n      {showTags()}\n    </div>\n  )\n}\n\nexport default Book\n","import React from 'react'\nimport '../styles/PageSubtitle.css'\n\nfunction PageSubtitle({ title }) {\n  return <h3 className=\"page-subtitle\">{title}</h3>\n}\n\nexport default PageSubtitle\n","import React from 'react'\nimport Book from './Book'\nimport PageSubtitle from '../PageSubtitle'\n\nfunction BookList({ books, title, handleToggle }) {\n  const showTitle = () => (title ? <PageSubtitle title={title} /> : null)\n  const mapToBooks = () => {\n    return books\n      ? books.map(book => (\n          <Book key={book.id} handleToggle={() => handleToggle(book.id)} {...book} />\n        ))\n      : null\n  }\n\n  return (\n    <div>\n      {showTitle()}\n      {mapToBooks()}\n    </div>\n  )\n}\n\nexport default BookList\n","import React, { useState } from 'react'\nimport '../../styles/Form.css'\n\nconst AddBookForm = ({ handleSubmit }) => {\n  const [author, setAuthor] = useState('')\n  const [isbn, setIsbn] = useState('')\n  const [tags, setTags] = useState('')\n  const [title, setTitle] = useState('')\n\n  const onSubmit = async event => {\n    event.preventDefault()\n    const book = { title, author, isbn }\n    const error = await handleSubmit(book)\n    if (!error) {\n      resetForm()\n    } else {\n      // Handle error\n    }\n  }\n\n  const resetForm = () => {\n    setAuthor('')\n    setTitle('')\n    setIsbn('')\n  }\n\n  return (\n    <div className=\"book-form-wrapper\">\n      <form className=\"book-form\" onSubmit={onSubmit}>\n        <label>Title:</label>\n        <input\n          type=\"text\"\n          placeholder=\"Type your book title\"\n          value={title}\n          onChange={({ target }) => setTitle(target.value)}\n          data-testid=\"add-book-title\"\n        />\n\n        <label>Author:</label>\n        <input\n          type=\"text\"\n          placeholder=\"Type your book author\"\n          value={author}\n          onChange={({ target }) => setAuthor(target.value)}\n          data-testid=\"add-book-author\"\n        />\n\n        <label>ISBN:</label>\n        <input\n          type=\"text\"\n          placeholder=\"Type your book isbn\"\n          value={isbn}\n          onChange={({ target }) => setIsbn(target.value)}\n          data-testid=\"add-book-isbn\"\n        />\n\n        <input className=\"form-submit\" type=\"submit\" value=\"Submit\" data-testid=\"add-book-submit\" />\n      </form>\n    </div>\n  )\n}\nexport default AddBookForm\n","import React, { useState, useEffect } from 'react'\nimport bookService from '../services/books'\nimport PageTitle from '../components/PageTitle'\nimport BookList from '../components/books/BookList'\nimport AddBookForm from '../components/books/AddBookForm'\nimport PageSubtitle from '../components/PageSubtitle'\nimport '../styles/BookPage.css'\n\nfunction BookPage() {\n  const [books, setBooks] = useState([])\n  useEffect(() => {\n    getBooks()\n  }, [])\n\n  const getBooks = async () => {\n    try {\n      const savedBooks = await bookService.getBooks()\n      setBooks(savedBooks)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const addBook = async book => {\n    try {\n      const createdBook = await bookService.createBook(book)\n      setBooks(books.concat(createdBook))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleToggle = async id => {\n    const book = books.find(b => b.id === id)\n\n    if (book) {\n      const updatedBook = await bookService.markAsRead(book.id)\n      setBooks(books.map(b => (b.id === updatedBook.id ? updatedBook : b)))\n    }\n  }\n\n  return (\n    <main className=\"book-page\">\n      <PageTitle title=\"Book Recommendations\" />\n      <PageSubtitle title=\"Add a Book\" />\n      <AddBookForm handleSubmit={addBook} />\n      <BookList title=\"Saved Books\" books={books} handleToggle={handleToggle} />\n    </main>\n  )\n}\n\nexport default BookPage\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport HomePage from './pages/HomePage'\nimport BookPage from './pages/BookPage'\nimport './App.css'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route exact path=\"/\" render={() => <HomePage />} />\n        <Route path=\"/recommendations/books\" render={() => <BookPage />} />\n      </Router>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}
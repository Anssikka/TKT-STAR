(this["webpackJsonprecommendation-ui"]=this["webpackJsonprecommendation-ui"]||[]).push([[0],{30:function(e,t,n){e.exports=n(66)},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),u=n.n(c),o=n(27),l=n(8);var i=function(){return r.a.createElement("main",null,r.a.createElement("p",null,"Front page"))},s=n(1),m=n.n(s),p=n(6),f=n(10),d=n(12),b=n.n(d),v="/api/recommendations/books",h={createBook:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(v,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBooks:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(v);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateBook:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put(v,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),markAsRead:function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(v,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};n(53);var k=function(e){var t=e.title;return r.a.createElement("h1",{className:"page-title"},t)};n(54),n(55),n(56);var E=function(e){var t=e.text,n=e.handleToggle,a=e.className;return r.a.createElement("button",{onClick:n,className:a||"button toggle"},t)};var g=function(e){var t=e.title,n=e.author,a=e.isbn,c=e.tags,u=e.isRead,o=e.handleToggle;return r.a.createElement("div",{className:"book"},r.a.createElement("h5",null,t),n?r.a.createElement("h6",{className:"book-author"},n):null,a?r.a.createElement("small",null,a):null,function(){var e=u?"Mark as not read":"Mark as read";return r.a.createElement(E,{text:e,handleToggle:o,className:"book-toggle toggle button ".concat(u?"active":null)})}(),Array.isArray(c)?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{className:"book-tag-title"},"Tags:"),r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{key:"".concat(t,"-").concat(e.id)},e.title)})))):null)};n(57);var x=function(e){var t=e.title;return r.a.createElement("h3",{className:"page-subtitle"},t)};var y=function(e){var t=e.books,n=e.title,a=e.handleToggle;return r.a.createElement("div",null,n?r.a.createElement(x,{title:n}):null,t?t.map((function(e){return r.a.createElement(g,Object.assign({key:e.id,handleToggle:function(){return a(e.id)}},e))})):null)},j=(n(58),function(e){var t=e.handleSubmit,n=Object(a.useState)(""),c=Object(f.a)(n,2),u=c[0],o=c[1],l=Object(a.useState)(""),i=Object(f.a)(l,2),s=i[0],d=i[1],b=Object(a.useState)(""),v=Object(f.a)(b,2),h=(v[0],v[1],Object(a.useState)("")),k=Object(f.a)(h,2),E=k[0],g=k[1],x=function(){var e=Object(p.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={title:E,author:u,isbn:s},e.next=4,t(a);case 4:e.sent||y();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){o(""),g(""),d("")};return r.a.createElement("div",{className:"book-form-wrapper"},r.a.createElement("form",{className:"book-form",onSubmit:x},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",placeholder:"Type your book title",value:E,onChange:function(e){var t=e.target;return g(t.value)},"data-testid":"add-book-title"}),r.a.createElement("label",null,"Author:"),r.a.createElement("input",{type:"text",placeholder:"Type your book author",value:u,onChange:function(e){var t=e.target;return o(t.value)},"data-testid":"add-book-author"}),r.a.createElement("label",null,"ISBN:"),r.a.createElement("input",{type:"text",placeholder:"Type your book isbn",value:s,onChange:function(e){var t=e.target;return d(t.value)},"data-testid":"add-book-isbn"}),r.a.createElement("input",{className:"form-submit",type:"submit",value:"Submit","data-testid":"add-book-submit"})))});n(59);var O=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.getBooks();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.createBook(t);case 3:a=e.sent,c(n.concat(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=n.find((function(e){return e.id===t})))){e.next=6;break}return e.next=4,h.markAsRead(a.id);case 4:r=e.sent,c(n.map((function(e){return e.id===r.id?r:e})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"book-page"},r.a.createElement(k,{title:"Book Recommendations"}),r.a.createElement(x,{title:"Add a Book"}),r.a.createElement(j,{handleSubmit:o}),r.a.createElement(y,{title:"Saved Books",books:n,handleToggle:l}))};n(60);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement(i,null)}}),r.a.createElement(l.a,{path:"/recommendations/books",render:function(){return r.a.createElement(O,null)}})))};u.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.53e1449e.chunk.js.map